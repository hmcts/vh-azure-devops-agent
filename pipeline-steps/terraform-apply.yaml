parameters:
  - name: myConnection
    type: string
    default: ""
  - name: subscription
    type: string
  - name: workingDirectory
    type: string
  - name: environment
    type: string
  - name: planLocation
    type: string

steps:

  - task: Bash@3
    displayName: 'set_up.sh Personal Access Token Replacement'
    inputs:
      targetType: 'inline'
      workingDirectory: ${{parameters.workingDirectory}}
      script: |
          echo 'in apply'
          echo '${{parameters.myConnection}}' 
         
  #  #  sed -i 's|TOKEN|${{parameters.myToken}}|gI' 'set_up.sh'
  # - task: TerraformCLI@0
  #   displayName: Terraform apply
  #   inputs:
  #     workingDirectory: ${{parameters.workingDirectory}}
  #     command: apply
  #     environmentServiceName: ${{ parameters.subscription }}
  #     commandOptions: -auto-approve "${{ parameters.planLocation }}"